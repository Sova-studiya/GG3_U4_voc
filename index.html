<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>English Full Stack</title>
    <style>
        :root {
            --primary: #6366f1; --success: #22c55e; --danger: #ef4444;
            --bg: #f1f5f9; --text: #1e293b;
        }
        body {
            font-family: -apple-system, system-ui, sans-serif;
            background: var(--bg); margin: 0; display: flex;
            flex-direction: column; align-items: center; justify-content: center;
            min-height: 100vh; overflow: hidden; touch-action: manipulation;
        }
        .header { position: fixed; top: 20px; display: flex; gap: 10px; z-index: 10; }
        .stat { background: white; padding: 8px 16px; border-radius: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); font-weight: 700; font-size: 0.9rem; }

        .stack-container {
            position: relative; width: 90%; max-width: 350px; height: 480px;
            perspective: 1000px;
        }

        .card {
            position: absolute; width: 100%; height: 100%;
            transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.3s;
            transform-style: preserve-3d; cursor: pointer;
        }
        .card.is-flipped { transform: rotateY(180deg); }

        .card-face {
            position: absolute; width: 100%; height: 100%;
            backface-visibility: hidden; border-radius: 25px;
            display: flex; flex-direction: column; padding: 25px;
            box-sizing: border-box; background: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .card-front { justify-content: center; align-items: center; text-align: center; }
        .cat-tag { position: absolute; top: 20px; font-size: 0.65rem; text-transform: uppercase; color: #94a3b8; letter-spacing: 1px; }
        .word-ru { font-size: 1.6rem; color: var(--text); font-weight: 800; }

        .card-back { transform: rotateY(180deg); justify-content: flex-start; text-align: left; overflow-y: auto; }
        .word-en { font-size: 1.8rem; color: var(--primary); font-weight: 800; margin: 5px 0; }
        .phonetic { color: #64748b; font-size: 1rem; margin-bottom: 15px; font-family: monospace; }
        .ex-list { border-top: 2px solid #f8fafc; padding-top: 10px; }
        .ex-item { font-size: 0.85rem; color: #475569; margin-bottom: 8px; font-style: italic; line-height: 1.3; }

        .controls { display: flex; gap: 20px; margin-top: 40px; }
        .btn {
            border: none; padding: 18px 30px; border-radius: 18px;
            color: white; font-weight: 800; font-size: 1rem; cursor: pointer;
        }
        .btn-no { background: var(--danger); }
        .btn-yes { background: var(--success); }
    </style>
</head>
<body>

    <div class="header">
        <div class="stat" style="color: var(--success)">–ó–Ω–∞—é: <span id="s-yes">0</span></div>
        <div class="stat" style="color: var(--primary)">–û—Å—Ç–∞–ª–æ—Å—å: <span id="s-rem">0</span></div>
    </div>

    <div class="stack-container" id="stack"></div>

    <div class="controls">
        <button class="btn btn-no" onclick="handleAction(false)">–ù–µ –∑–Ω–∞—é</button>
        <button class="btn btn-yes" onclick="handleAction(true)">–ó–Ω–∞—é</button>
    </div>

    <script>
        const allWords = [
            // 4.1
            {c: "4.1", r: "–ë–ª–µ–Ω–¥–µ—Ä", e: "Blender", p: "/Ààblend…ô/", x: ["Put fruit in the blender.", "The blender is noisy.", "Clean the blender."]},
            {c: "4.1", r: "DVD-–ø–ª–µ–µ—Ä", e: "DVD player", p: "/ÀådiÀêviÀê ÀàdiÀê Àåple…™…ô/", x: ["Connect the DVD player.", "Put the disc in.", "It's an old DVD player."]},
            {c: "4.1", r: "–≠–ª. –∑—É–±–Ω–∞—è —â–µ—Ç–∫–∞", e: "Electric toothbrush", p: "/…™Àålektr…™k ÀàtuÀêŒ∏br å É/", x: ["I use an electric toothbrush.", "Charge the toothbrush.", "It's a good toothbrush."]},
            {c: "4.1", r: "–ò–≥—Ä–æ–≤–∞—è –∫–æ–Ω—Å–æ–ª—å", e: "Games console", p: "/Àà…°e…™mz Ààk…íns…ô äl/", x: ["Turn on the games console.", "I love my games console.", "Is the console new?"]},
            {c: "4.1", r: "–§–µ–Ω", e: "Hairdryer", p: "/Ààhe…ôÀådra…™…ô/", x: ["The hairdryer is broken.", "Where is the hairdryer?", "I need a hairdryer."]},
            {c: "4.1", r: "–ú–∏–∫—Ä–æ–≤–æ–ª–Ω–æ–≤–∫–∞", e: "Microwave oven", p: "/Àåma…™kr…ôwe…™v Àà åv…ôn/", x: ["Heat it in the microwave.", "The microwave is fast.", "Open the microwave."]},
            {c: "4.1", r: "–ü—É–ª—å—Ç", e: "Remote control", p: "/r…™Àåm…ô ät k…ônÀàtr…ô äl/", x: ["Pass the remote control.", "Where's the remote?", "Press the button."]},
            {c: "4.1", r: "–°–º–∞—Ä—Ç –¢–í", e: "Smart TV", p: "/Àåsm…ëÀêt ÀåtiÀêÀàviÀê/", x: ["We bought a smart TV.", "Is it a smart TV?", "Connect the smart TV."]},
            {c: "4.1", r: "–¢–æ—Å—Ç–µ—Ä", e: "Toaster", p: "/Ààt…ô äst…ô/", x: ["The toaster is hot.", "Put bread in the toaster.", "Clean the toaster."]},
            {c: "4.1", r: "USB-—Ñ–ª–µ—à–∫–∞", e: "USB stick", p: "/ÀåjuÀê es ÀàbiÀê st…™k/", x: ["Save it on a USB stick.", "I lost my USB stick.", "Plug in the USB stick."]},
            {c: "4.1 Tech", r: "–í–∫–ª—é—á–∏—Ç—å –≤ —Ä–æ–∑–µ—Ç–∫—É", e: "Plug in", p: "/Àåpl å…° Àà…™n/", x: ["Plug in the toaster.", "Can I plug it in?", "Plug it in now."]},
            {c: "4.1 Tech", r: "–í—ã–∫–ª—é—á–∏—Ç—å", e: "Turn off", p: "/Àåt…úÀên Àà…íf/", x: ["Turn off the light.", "Turn off the TV.", "Please turn it off."]},
            {c: "4.1 Tech", r: "–í–∫–ª—é—á–∏—Ç—å", e: "Turn on", p: "/Àåt…úÀên Àà…ín/", x: ["Turn on the radio.", "Turn on the oven.", "Can you turn it on?"]},
            {c: "4.1 Tech", r: "–í—ã–∫–ª—é—á–∏—Ç—å –∏–∑ —Ä–æ–∑–µ—Ç–∫–∏", e: "Unplug", p: "/ ånÀàpl å…°/", x: ["Unplug the iron.", "Always unplug it.", "Did you unplug it?"]},
            {c: "4.1", r: "–ü—Ä–æ–≤–æ–¥–∏—Ç—å –æ–ø—Ä–æ—Å", e: "Do a survey", p: "/ÀåduÀê …ô Ààs…úÀêve…™/", x: ["Let's do a survey.", "They do a survey.", "We did a survey."]},
            {c: "4.1", r: "–ù–∞–∂–∞—Ç—å", e: "Press", p: "/pres/", x: ["Press the button.", "Don't press that.", "Press 'Enter'."]},
            // 4.2
            {c: "4.2", r: "–ó–∞—Ü–µ–Ω–∏!", e: "Check this out!", p: "/Àåt Éek √∞…™s Ààa ät/", x: ["Check this out! Wow!", "Hey, check this out.", "Look at this!"]},
            {c: "4.2", r: "–ß–µ—Å—Ç–Ω–æ!", e: "Honest!", p: "/Àà…ín…™st/", x: ["I'm being honest.", "It's true, honest!", "Be honest with me."]},
            {c: "4.2", r: "–¢—ã —à—É—Ç–∏—à—å", e: "You‚Äôre kidding", p: "/Àåj…ô Ààk…™d…™≈ã/", x: ["You're kidding! No!", "Are you kidding?", "You're kidding, right?"]},
            {c: "4.2", r: "–ù–∞—Å—Ç–æ–ª—å–Ω–∞—è –∏–≥—Ä–∞", e: "Board game", p: "/Ààb…îÀêd …°e…™m/", x: ["Play a board game.", "I love board games.", "Buy a board game."]},
            {c: "4.2", r: "–°—ä–µ–º–æ—á–Ω–∞—è –≥—Ä—É–ø–ø–∞", e: "Film crew", p: "/Ààf…™lm kruÀê/", x: ["The film crew is here.", "He's in a film crew.", "A busy film crew."]},
            // 4.3
            {c: "4.3", r: "–°–ª–æ–º–∞—Ç—å", e: "Break", p: "/bre…™k/", x: ["Don't break it.", "Did it break?", "Machines break."]},
            {c: "4.3", r: "–ö–Ω–æ–ø–∫–∞", e: "Button", p: "/Ààb åtn/", x: ["Push the button.", "The button is red.", "A small button."]},
            {c: "4.3", r: "–ò–∑–æ–±—Ä–µ—Ç–∞—Ç—å", e: "Invent", p: "/…™nÀàvent/", x: ["Who invented this?", "I want to invent.", "He invented a tool."]},
            {c: "4.3", r: "–ò–∑–æ–±—Ä–µ—Ç–µ–Ω–∏–µ", e: "Invention", p: "/…™nÀàven É…ôn/", x: ["A great invention.", "Cool invention!", "History of inventions."]},
            {c: "4.3", r: "–ü–æ—á—Ç–∞–ª—å–æ–Ω", e: "Postman", p: "/Ààp…ô ästm…ôn/", x: ["The postman is here.", "Wait for the postman.", "Postman's bag."]},
            {c: "4.3", r: "–¢–æ–ª–∫–∞—Ç—å/–ù–∞–∂–∞—Ç—å", e: "Push", p: "/p ä É/", x: ["Push the door.", "Push the button.", "Don't push me."]},
            {c: "4.3", r: "–°—ç–Ω–¥–≤–∏—á–Ω–∏—Ü–∞", e: "Snack maker", p: "/Ààsn√¶k Àåme…™k…ô/", x: ["Use the snack maker.", "A new snack maker.", "I love my snack maker."]},
            {c: "4.3", r: "–®—Ç–æ—Ä–º", e: "Storm", p: "/st…îÀêm/", x: ["A big storm.", "The storm is loud.", "Scared of the storm."]},
            // 4.4
            {c: "4.4", r: "–ß—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å?", e: "What happened?", p: "/w…ít Ààh√¶p…ônd/", x: ["Tell me what happened.", "What happened here?", "Did it happen?"]},
            {c: "4.4", r: "–ß—Ç–æ –Ω–µ —Ç–∞–∫?", e: "What‚Äôs wrong?", p: "/w…íts r…í≈ã/", x: ["Tell me what's wrong.", "Is something wrong?", "What is wrong?"]},
            {c: "4.4", r: "–¢—ã –≤—ã–≥–ª—è–¥–∏—à—å —Ä–∞—Å—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º", e: "You look upset.", p: "/j…ô l äk  åpÀàset/", x: ["You look upset. Why?", "Oh, you look upset.", "Stop, don't be upset."]},
            {c: "4.4", r: "–¢—ã –≤—ã–≥–ª—è–¥–∏—à—å –æ–±–µ—Å–ø–æ–∫–æ–µ–Ω–Ω—ã–º", e: "You look worried.", p: "/j…ô l äk Ààw årid/", x: ["You look worried. OK?", "Why look worried?", "Relax, don't be worried."]},
            {c: "4.4", r: "–ú–Ω–µ –∂–∞–ª—å —ç—Ç–æ —Å–ª—ã—à–∞—Ç—å", e: "I‚Äôm sorry to hear that!", p: "/a…™m Ààs…íri/", x: ["Oh! I‚Äôm sorry to hear that!", "So sorry to hear that.", "I am sorry."]},
            {c: "4.4", r: "–≠—Ç–æ —É–∂–∞—Å–Ω–æ!", e: "Oh, that‚Äôs terrible!", p: "/√∞√¶ts Ààter…ôbl/", x: ["That's terrible! No!", "How terrible!", "It's a terrible news."]},
            {c: "4.4", r: "–ö–∞–∫–∞—è –∂–∞–ª–æ—Å—Ç—å", e: "That‚Äôs a shame.", p: "/√∞√¶ts …ô  Ée…™m/", x: ["That's a shame, really.", "What a shame!", "Oh, that's a shame."]},
            {c: "4.4", r: "–£—Ä–æ–Ω–∏—Ç—å", e: "Drop", p: "/dr…íp/", x: ["Don't drop the glass.", "I dropped my keys.", "Did you drop it?"]},
            {c: "4.4", r: "–°—É—à–∏—Ç—å –≤–æ–ª–æ—Å—ã", e: "Dry my hair", p: "/dra…™ ma…™ he…ô/", x: ["I need to dry my hair.", "Dry my hair now.", "How to dry my hair?"]},
            {c: "4.4", r: "–í–µ–∑–µ—Ç —Ç–µ–±–µ!", e: "Lucky you!", p: "/Ààl åki juÀê/", x: ["You won? Lucky you!", "Lucky you! Wow.", "Oh, lucky you."]},
            {c: "4.4", r: "–û–ø–æ–∑–¥–∞—Ç—å –Ω–∞ –∞–≤—Ç–æ–±—É—Å", e: "Miss the bus", p: "/m…™s √∞…ô b ås/", x: ["I missed the bus.", "Don't miss the bus.", "Hurry, the bus!"]},
            {c: "4.4", r: "–ß–∏–Ω–∏—Ç—å", e: "Repair", p: "/r…™Ààpe…ô/", x: ["Repair the car.", "Can you repair it?", "Repair my phone."]},
            // 4.5
            {c: "4.5", r: "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ", e: "App", p: "/√¶p/", x: ["Download the app.", "The app is free.", "Open the app now."]},
            {c: "4.5", r: "–ë–∞—Ç–∞—Ä–µ—è", e: "Battery", p: "/Ààb√¶t…ôri/", x: ["My battery is dead.", "Charge the battery.", "Low battery."]},
            {c: "4.5", r: "–ü–æ–≤–µ—Ä–±–∞–Ω–∫", e: "Portable charger", p: "/Àåp…îÀêt…ôb…ôl Ààt É…ëÀêd í…ô/", x: ["Use a portable charger.", "I have a charger.", "Is the charger full?"]},
            {c: "4.5", r: "–†–∏–Ω–≥—Ç–æ–Ω", e: "Ringtone", p: "/Ààr…™≈ãt…ô än/", x: ["Change the ringtone.", "Loud ringtone.", "I like your ringtone."]},
            {c: "4.5", r: "–°–µ–Ω—Å–æ—Ä–Ω—ã–π —ç–∫—Ä–∞–Ω", e: "Touch screen", p: "/t åt É skriÀên/", x: ["Clean the touch screen.", "It's a touch screen.", "The screen works."]},
            {c: "4.5", r: "–í–∞–π-—Ñ–∞–π", e: "Wi-Fi", p: "/Ààwa…™fa…™/", x: ["What's the Wi-Fi?", "No Wi-Fi here.", "Connect to Wi-Fi."]},
            {c: "4.5", r: "–ú–æ–±–∏–ª—å–Ω–∏–∫", e: "Cell phone", p: "/Ààsel f…ô än/", x: ["My cell phone is new.", "Where's your cell phone?", "Turn off the cell phone."]},
            {c: "4.5", r: "–ü–æ–¥–∫–ª—é—á–∞—Ç—å", e: "Connect", p: "/k…ôÀànekt/", x: ["Connect the wires.", "Can I connect?", "Connect to internet."]},
            {c: "4.5", r: "–û—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç", e: "Different from", p: "/Ààd…™f…ôr…ônt fr…ôm/", x: ["It's different from that.", "Am I different?", "Different from mine."]},
            {c: "4.5", r: "–†—É—á–Ω–æ–π", e: "Hand-held", p: "/Ààh√¶nd held/", x: ["A hand-held device.", "Hand-held game.", "It is hand-held."]},
            {c: "4.5", r: "–î–ª–∏—Ç—å—Å—è", e: "Last", p: "/l…ëÀêst/", x: ["It lasts long.", "How long does it last?", "The show lasts an hour."]},
            {c: "4.5", r: "–ú–æ–±. –∑–≤–æ–Ω–æ–∫", e: "Mobile phone call", p: "/Àåm…ô äba…™l Àåf…ô än Ààk…îÀêl/", x: ["Answer the call.", "A mobile phone call.", "Make a phone call."]},
            {c: "4.5", r: "–û—Ñ–∏—Å", e: "Office", p: "/Àà…íf…™s/", x: ["I'm in the office.", "Go to the office.", "A big office."]},
            {c: "4.5", r: "–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç", e: "Rival company", p: "/Àåra…™v…ôl Ààk åmp…ôni/", x: ["A rival company.", "They are rivals.", "Work for a rival."]},
            {c: "4.5", r: "–í–µ—Å–∏—Ç—å", e: "Weigh", p: "/we…™/", x: ["How much do you weigh?", "Weigh the bag.", "It weighs a lot."]},
            {c: "4.5", r: "–†–∞–±–æ—Ç–∞—Ç—å –Ω–∞", e: "Work for", p: "/w…úÀêk f…ô/", x: ["I work for him.", "Who do you work for?", "Work for Google."]},
            // 4.6
            {c: "4.6", r: "–û–ø–∞–∑–¥—ã–≤–∞—Ç—å", e: "Be late", p: "/bi le…™t/", x: ["Don't be late!", "I'm always late.", "Why are you late?"]},
            {c: "4.6", r: "–°–µ—Å—Ç—å –≤ –∞–≤—Ç–æ–±—É—Å", e: "Get on a bus", p: "/Àå…°et …ín …ô Ààb ås/", x: ["Get on a bus now.", "I saw him get on a bus.", "Let's get on the bus."]},
            {c: "4.6", r: "–ì–ª–∞–≤–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ", e: "Main event", p: "/Àåme…™n …™Ààvent/", x: ["The main event.", "Start the main event.", "What is the main event?"]},
            {c: "Writing", r: "–ù–∞–∫–æ–Ω–µ—Ü", e: "Finally", p: "/Ààfa…™n…ôli/", x: ["Finally! Done.", "Finally, he is here.", "Finally, we won."]},
            {c: "Writing", r: "–°–Ω–∞—á–∞–ª–∞", e: "First", p: "/f…úÀêst/", x: ["First, do this.", "First, hello.", "Who's first?"]},
            {c: "Writing", r: "–ó–∞—Ç–µ–º", e: "Then", p: "/√∞en/", x: ["Then go home.", "Eat, then sleep.", "What then?"]}
        ];

        let queue = [...allWords].sort(() => Math.random() - 0.5);
        let scoreYes = 0;

        function renderCard() {
            const stack = document.getElementById('stack');
            stack.innerHTML = '';
            if (queue.length === 0) {
                stack.innerHTML = '<div class="word-ru" style="font-size:1.2rem">–í—Å–µ —Å–ª–æ–≤–∞ –≤—ã—É—á–µ–Ω—ã! üéâ</div>';
                return;
            }
            const item = queue[0];
            const card = document.createElement('div');
            card.className = 'card';
            card.id = 'current-card';
            card.onclick = () => flipCard(item.e);
            card.innerHTML = `
                <div class="card-face card-front">
                    <span class="cat-tag">${item.c}</span>
                    <div class="word-ru">${item.r}</div>
                </div>
                <div class="card-face card-back">
                    <div class="word-en">${item.e}</div>
                    <div class="phonetic">${item.p}</div>
                    <div class="ex-list">${item.x.map(ex => `<div class="ex-item">‚Ä¢ ${ex}</div>`).join('')}</div>
                </div>`;
            stack.appendChild(card);
            document.getElementById('s-rem').textContent = queue.length;
        }

        function flipCard(word) {
            const card = document.getElementById('current-card');
            if(!card.classList.contains('is-flipped')) {
                card.classList.add('is-flipped');
                const speech = new SpeechSynthesisUtterance(word);
                speech.lang = 'en-GB';
                window.speechSynthesis.speak(speech);
            }
        }

        function handleAction(known) {
            const card = document.getElementById('current-card');
            if (!card) return;
            if (known) {
                card.style.transform = 'translateX(600px) rotate(30deg)';
                card.style.opacity = '0';
                scoreYes++;
                document.getElementById('s-yes').textContent = scoreYes;
                queue.shift();
            } else {
                card.style.transform = 'translateX(-600px) rotate(-30deg)';
                card.style.opacity = '0';
                queue.push(queue.shift());
            }
            setTimeout(renderCard, 400);
        }
        renderCard();
    </script>
</body>
</html>